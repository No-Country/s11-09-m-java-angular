<form [formGroup]="loginForm" (ngSubmit)="login()">
  <section class="form-login m-auto">
    <div class="mb-3">
      <label class="form-label" for="username">Usuario</label>
      <input class="form-control" id="username" formControlName="username" placeholder="Ingres치 tu usuario">
    </div>
    <div class="mb-3">
      <label class="form-label" for="password">Contrase침a</label>
      <input class="form-control" id="password" formControlName="password" placeholder="Ingres치 tu contrase침a"
             type="password">
    </div>
    <div *ngIf="(error$|async)">
      <p class="alert alert-warning">Credenciales invalidas</p>
    </div>

    <ng-template #spinnerTemplate>
      <div class="d-flex justify-content-center">
        <div class="spinner-border"></div>
      </div>
    </ng-template>
    <ng-template #buttonTemplate>
      <button type="submit" class="my-5 btn w-100 btn-primary" [disabled]="!loginForm.valid">Ingresar</button>
    </ng-template>

    <ng-container *ngIf="(isLoading$|async) ; else buttonTemplate">
      <ng-container *ngTemplateOutlet="spinnerTemplate"></ng-container>
    </ng-container>

  </section>
</form>

